---
import { Status } from "../utils/constants";
import { slugify } from "../utils/utils";

const { item } = Astro.props;
// console.log("item", item);

const href = slugify(item.data.title);
const images = item.data.cardimages;
const status = item.data.status;
---

<a href={`/filmography/${href}`}>
  <div class="card">
    {
      (item.data.status === 2 || item.data.status === 3) && (
        <span class="status">{Status[status as keyof typeof Status]}</span>
      )
    }
    <p class="episodes">{item.data.episodes}</p>

    <figure>
      <img src={images[0]} alt="card image" />
    </figure>
    <div
      class="info"
      style={{ display: item.data.status === 1 ? "block" : "none" }}
    >
      Updated upto 6 out of {item.data.episodes}
    </div>
    <p
      class="title"
      style={{
        position: item.data.status === 1 ? "static" : "absolute",
      }}
    >
      <span
        style={{
          backgroundColor: item.data.status === 1 ? "inherit" : "",
        }}
      >
        {item.data.title}
      </span>
    </p>
  </div>
</a>
